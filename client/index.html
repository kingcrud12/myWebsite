<!DOCTYPE html>
<html class="dark" lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Yann Dipita | Développeur Web &amp; Mobile</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;family=Plus+Jakarta+Sans:wght@700;800&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#6366f1",
                        "background-light": "#f8fafc",
                        "background-dark": "#0f172a",
                    },
                    fontFamily: {
                        display: ["'Plus Jakarta Sans'", "sans-serif"],
                        sans: ["'Inter'", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.75rem",
                    },
                },
            },
        };
    </script>
    <style>
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .dark .glass {
            background: rgba(15, 23, 42, 0.6);
        }

        .bg-glow {
            background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 50%);
        }

        .project-card:hover .project-image {
            transform: scale(1.05);
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 60px;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-sans antialiased">
    <nav class="fixed top-4 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-5xl">
        <div class="glass px-6 py-4 rounded-full flex items-center justify-between shadow-xl">
            <div class="flex items-center gap-2">
                <span class="text-xl font-display font-extrabold tracking-tighter text-primary">YD.</span>
            </div>
            <div class="hidden md:flex items-center gap-8">
                <a class="text-sm font-medium hover:text-primary transition-colors" href="#home">Accueil</a>
                <a class="text-sm font-medium hover:text-primary transition-colors" href="#about">À Propos</a>
                <a class="text-sm font-medium hover:text-primary transition-colors" href="#projects">Projets</a>
                <a class="text-sm font-medium hover:text-primary transition-colors" href="#activity">Activité</a>
                <a class="text-sm font-medium hover:text-primary transition-colors" href="#contact">Contact</a>
            </div>
            <div class="flex items-center gap-4">
                <button class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors"
                    id="themeToggle">
                    <span class="material-symbols-outlined dark:hidden">dark_mode</span>
                    <span class="material-symbols-outlined hidden dark:block">light_mode</span>
                </button>
            </div>
        </div>
    </nav>
    <main class="relative overflow-hidden">
        <div
            class="absolute top-0 right-0 -z-10 w-[500px] h-[500px] bg-primary opacity-20 blur-[120px] rounded-full translate-x-1/2 -translate-y-1/2">
        </div>
        <div
            class="absolute bottom-0 left-0 -z-10 w-[400px] h-[400px] bg-purple-600 opacity-20 blur-[100px] rounded-full -translate-x-1/2 translate-y-1/2">
        </div>
        <section class="min-h-screen flex pt-40 md:pt-48 px-6" id="home">
            <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="order-2 lg:order-1 space-y-8">
                    <div class="space-y-4">
                        <span
                            class="inline-block px-4 py-1.5 rounded-full glass text-primary font-semibold text-sm tracking-wide uppercase">
                            Bonjour, je suis
                        </span>
                        <h1 class="text-6xl md:text-8xl font-display font-extrabold tracking-tight">
                            Yann <span class="text-primary">Dipita</span>
                        </h1>
                        <p class="text-2xl md:text-3xl text-slate-600 dark:text-slate-400 font-light max-w-xl">
                            Développeur Web &amp; Mobile expert en solutions innovantes et performantes.
                        </p>
                    </div>
                    <div class="flex flex-wrap gap-4 pt-4">
                        <a class="px-8 py-4 bg-primary text-white font-bold rounded-2xl shadow-lg shadow-primary/25 hover:shadow-primary/40 hover:-translate-y-1 transition-all flex items-center gap-2"
                            href="#projects">
                            Voir mes projets
                            <span class="material-symbols-outlined text-sm">arrow_downward</span>
                        </a>
                        <a class="px-8 py-4 glass text-slate-900 dark:text-white font-bold rounded-2xl hover:bg-slate-200 dark:hover:bg-white/10 transition-all"
                            href="#contact">
                            Me contacter
                        </a>
                    </div>
                </div>
                <div class="order-1 lg:order-2 flex justify-center lg:justify-end">
                    <div class="relative group">
                        <div
                            class="absolute -inset-1 bg-gradient-to-r from-primary to-purple-600 rounded-full blur opacity-40 group-hover:opacity-60 transition duration-1000 group-hover:duration-200">
                        </div>
                        <div
                            class="relative w-64 h-64 md:w-96 md:h-96 rounded-full overflow-hidden border-4 border-white/10 shadow-2xl">
                            <img alt="Yann Dipita Profile"
                                class="w-full h-full object-cover grayscale-[20%] hover:grayscale-0 transition-all duration-500"
                                src="profile.jpg" />
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="py-24 px-6 bg-slate-50/50 dark:bg-slate-900/50" id="about">
            <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-20 items-center">
                    <div class="relative">
                        <div class="aspect-square glass rounded-3xl p-4 overflow-hidden shadow-2xl">
                            <img alt="Yann Dipita Portrait"
                                class="w-full h-full object-cover rounded-2xl opacity-80 hover:opacity-100 transition-opacity"
                                src="profile.jpg" />
                        </div>
                        <div
                            class="absolute -bottom-8 -right-8 glass p-6 rounded-2xl shadow-xl hidden md:block border-primary/20">
                            <div class="flex items-center gap-4">
                                <div class="bg-primary/20 p-3 rounded-full">
                                    <span class="material-symbols-outlined text-primary">verified</span>
                                </div>
                                <div>
                                    <p class="text-sm font-bold">5+ Années</p>
                                    <p class="text-xs text-slate-500">D'expérience</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="space-y-8">
                        <div class="space-y-4">
                            <h2 class="text-4xl font-display font-extrabold">Expertise &amp; <span
                                    class="text-primary">Passion</span></h2>
                            <p class="text-lg text-slate-600 dark:text-slate-400 leading-relaxed">
                                Je conçois des interfaces modernes et des architectures robustes pour le web et le
                                mobile. Spécialisé dans les écosystèmes JavaScript modernes, j'accompagne mes clients de
                                la conception à la mise en production, avec un focus particulier sur l'automatisation et
                                l'expérience utilisateur.
                            </p>
                        </div>
                        <div class="space-y-6">
                            <h3 class="text-sm font-bold uppercase tracking-widest text-slate-500">Technologies
                                maîtrisées</h3>
                            <div class="flex flex-wrap gap-3">
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">React
                                    / Next.js</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">React
                                    Native</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">Node.js</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">TypeScript</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">Tailwind
                                    CSS</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">PostgreSQL</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">Automation</span>
                                <span
                                    class="px-4 py-2 glass rounded-xl text-sm font-medium hover:bg-primary hover:text-white transition-all cursor-default border-slate-200 dark:border-slate-800">Docker</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="py-24 px-6" id="projects">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row md:items-end justify-between mb-16 gap-6">
                    <div class="space-y-4">
                        <h2 class="text-4xl font-display font-extrabold">Projets <span
                                class="text-primary">Réalisés</span></h2>
                        <p class="text-slate-600 dark:text-slate-400 max-w-md">Une sélection de mes travaux récents en
                            développement web et mobile.</p>
                    </div>
                    <div class="flex gap-4">
                        <button onclick="filterProjects('all')" id="btn-all"
                            class="filter-btn px-6 py-2 rounded-full bg-primary text-white font-medium transition-colors">Tous</button>
                        <button onclick="filterProjects('web')" id="btn-web"
                            class="filter-btn px-6 py-2 rounded-full glass hover:bg-slate-200 dark:hover:bg-slate-800 font-medium transition-colors">Web</button>
                        <button onclick="filterProjects('mobile')" id="btn-mobile"
                            class="filter-btn px-6 py-2 rounded-full glass hover:bg-slate-200 dark:hover:bg-slate-800 font-medium transition-colors">Mobile</button>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="projects-grid">
                    <div class="project-item group relative md:col-span-2 lg:col-span-2 overflow-hidden rounded-[2rem] glass project-card border-primary/30"
                        data-category="saas">
                        <div class="absolute top-6 left-6 z-10">
                            <span
                                class="px-3 py-1 bg-primary text-white text-[10px] font-bold uppercase tracking-widest rounded-full">Projet
                                du moment</span>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 h-full">
                            <div class="p-8 flex flex-col justify-between h-full space-y-8">
                                <div>
                                    <div class="flex items-center gap-2 mb-4">
                                        <span class="text-xs font-bold text-primary uppercase tracking-wider">Web
                                            Platform</span>
                                    </div>
                                    <h3 class="text-3xl font-display font-bold mb-4">PMT - Project Management Tool</h3>
                                    <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
                                        Une plateforme SaaS complète pour la gestion de projets agile, permettant aux
                                        équipes de collaborer en temps réel avec des outils de visualisation avancés.
                                    </p>
                                </div>
                                <div class="flex flex-wrap gap-2">
                                    <span
                                        class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">Next.js</span>
                                    <span
                                        class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">PostgreSQL</span>
                                    <span
                                        class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">Pusher</span>
                                </div>
                            </div>
                            <div class="bg-slate-200 dark:bg-slate-800 relative overflow-hidden min-h-[300px]">
                                <img alt="PMT Dashboard"
                                    class="absolute inset-0 w-full h-full object-cover project-image transition-transform duration-700"
                                    src="pmt.png" />
                                <div class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"></div>
                            </div>
                        </div>
                    </div>
                    <a href="https://reconcil-afro-beauty.com/" target="_blank"
                        class="project-item group glass rounded-[2rem] overflow-hidden flex flex-col project-card block border-primary/30"
                        data-category="web">
                        <div class="aspect-video bg-slate-200 dark:bg-slate-800 relative overflow-hidden">
                            <img alt="Reconcil Afro Beauty"
                                class="w-full h-full object-cover project-image transition-transform duration-700"
                                src="reconcil afro beauty.png" />
                            <div class="absolute top-4 left-4">
                                <span
                                    class="px-3 py-1 bg-slate-900/80 backdrop-blur text-white text-[10px] font-bold uppercase tracking-widest rounded-full">Web
                                </span>
                            </div>
                        </div>
                        <div class="p-8 flex-1 flex flex-col justify-between">
                            <div>
                                <h3 class="text-xl font-display font-bold mb-2">Reconcil Beauty Afro</h3>
                                <p class="text-sm text-slate-600 dark:text-slate-400 mb-6">Boutique de ligne produits
                                    de soins capillaires.</p>
                            </div>
                            <div class="flex flex-wrap gap-2">
                                <span class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">React
                                    Native</span>
                                <span
                                    class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">Firebase</span>
                            </div>
                        </div>
                    </a>
                    <a href="https://apps.apple.com/fr/app/easy-task/id6756175109" target="_blank"
                        class="project-item group glass rounded-[2rem] overflow-hidden flex flex-col project-card block border-primary/30"
                        data-category="mobile">
                        <div class="aspect-video bg-slate-200 dark:bg-slate-800 relative overflow-hidden">
                            <img alt="Easy Task"
                                class="w-full h-full object-cover project-image transition-transform duration-700"
                                src="easytask.png" />
                            <div class="absolute top-4 left-4">
                                <span
                                    class="px-3 py-1 bg-slate-900/80 backdrop-blur text-white text-[10px] font-bold uppercase tracking-widest rounded-full">Mobile
                                </span>
                            </div>
                        </div>
                        <div class="p-8 flex-1 flex flex-col justify-between">
                            <div>
                                <h3 class="text-xl font-display font-bold mb-2">Easy Task</h3>
                                <p class="text-sm text-slate-600 dark:text-slate-400 mb-6">Une application iOS intuitive
                                    pour gérer vos tâches quotidiennes et vos échéances importantes.</p>
                            </div>
                            <div class="flex flex-wrap gap-2">
                                <span
                                    class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">SwiftUI</span>
                                <span
                                    class="text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">CoreData</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            </div>
        </section>
        <section class="py-24 px-6 bg-slate-50 dark:bg-slate-900/30" id="contact">
            <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
                    <div class="space-y-8">
                        <div class="space-y-4">
                            <h2 class="text-4xl font-display font-extrabold">Parlons de votre <span
                                    class="text-primary">Projet</span></h2>
                            <p class="text-slate-600 dark:text-slate-400 text-lg">Vous avez une idée ou un besoin
                                spécifique ? Je suis disponible pour discuter de vos futurs défis techniques.</p>
                        </div>
                        <div class="space-y-6">
                            <div class="flex items-center gap-4 group">
                                <div
                                    class="w-12 h-12 glass flex items-center justify-center rounded-xl group-hover:bg-primary group-hover:text-white transition-all">
                                    <span class="material-symbols-outlined">mail</span>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-500 font-bold uppercase tracking-wider">Email</p>
                                    <p class="font-medium">dipitay@gmail.com</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4 group">
                                <div
                                    class="w-12 h-12 glass flex items-center justify-center rounded-xl group-hover:bg-primary group-hover:text-white transition-all">
                                    <span class="material-symbols-outlined">location_on</span>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-500 font-bold uppercase tracking-wider">Localisation
                                    </p>
                                    <p class="font-medium">Remote / France</p>
                                </div>
                            </div>
                            <div class="flex gap-4 pt-4">
                                <a href="https://www.linkedin.com/in/yann-dipita-dev/" target="_blank"
                                    class="w-10 h-10 glass flex items-center justify-center rounded-lg hover:text-primary transition-colors"
                                    href="#">
                                    <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                                        <path
                                            d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z">
                                        </path>
                                    </svg>
                                </a>
                                <a href="https://github.com/kingcrud12" target="_blank"
                                    class="w-10 h-10 glass flex items-center justify-center rounded-lg hover:text-primary transition-colors"
                                    href="#">
                                    <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                                        <path
                                            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.042-1.416-4.042-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z">
                                        </path>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="glass p-8 md:p-12 rounded-[2.5rem] shadow-2xl relative">
                        <form class="space-y-6" id="contactForm" action="https://formspree.io/f/manrbred" method="POST">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-widest text-slate-500 ml-1">Nom
                                        Complet</label>
                                    <input
                                        class="w-full bg-white dark:bg-slate-800 border-none rounded-2xl p-4 focus:ring-2 focus:ring-primary transition-all"
                                        placeholder="John Doe" type="text" name="name" id="name" required />
                                </div>
                                <div class="space-y-2">
                                    <label
                                        class="text-xs font-bold uppercase tracking-widest text-slate-500 ml-1">Email</label>
                                    <input
                                        class="w-full bg-white dark:bg-slate-800 border-none rounded-2xl p-4 focus:ring-2 focus:ring-primary transition-all"
                                        placeholder="john@example.com" type="email" name="email" id="email" required />
                                </div>
                            </div>
                            <div class="space-y-2">
                                <label
                                    class="text-xs font-bold uppercase tracking-widest text-slate-500 ml-1">Sujet</label>
                                <input
                                    class="w-full bg-white dark:bg-slate-800 border-none rounded-2xl p-4 focus:ring-2 focus:ring-primary transition-all"
                                    placeholder="Comment puis-je vous aider ?" type="text" name="subject" id="subject"
                                    required />
                            </div>
                            <div class="space-y-2">
                                <label
                                    class="text-xs font-bold uppercase tracking-widest text-slate-500 ml-1">Message</label>
                                <textarea
                                    class="w-full bg-white dark:bg-slate-800 border-none rounded-2xl p-4 focus:ring-2 focus:ring-primary transition-all"
                                    placeholder="Votre message ici..." rows="4" name="message" id="message"
                                    required></textarea>
                            </div>
                            <button type="submit"
                                class="w-full py-4 bg-primary text-white font-bold rounded-2xl shadow-lg shadow-primary/20 hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">
                                <span class="btn-text">Envoyer le message</span>
                                <span class="material-symbols-outlined btn-icon">send</span>
                                <span
                                    class="btn-loader hidden animate-spin rounded-full h-5 w-5 border-b-2 border-white"></span>
                            </button>
                            <div id="formMessage" class="hidden p-4 rounded-xl text-center font-medium"></div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="py-12 border-t border-slate-200 dark:border-slate-800 text-center">
        <div class="max-w-7xl mx-auto px-6">
            <p class="text-slate-500 text-sm">© 2024 Yann Dipita. Tous droits réservés.</p>
        </div>
    </footer>
    <script>
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
        });
        // Initialize theme based on preference
        if (localStorage.getItem('theme') === 'light') {
            html.classList.remove('dark');
        }
        // Active link on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('nav a');
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });
            navLinks.forEach(link => {
                link.classList.remove('text-primary');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('text-primary');
                }
            });
        });

        // Project Filtering
        function filterProjects(category) {
            const projects = document.querySelectorAll('.project-item');
            const buttons = document.querySelectorAll('.filter-btn');

            // Update buttons state
            buttons.forEach(btn => {
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('glass', 'hover:bg-slate-200', 'dark:hover:bg-slate-800');
            });

            const activeBtn = document.getElementById(`btn-${category}`);
            activeBtn.classList.remove('glass', 'hover:bg-slate-200', 'dark:hover:bg-slate-800');
            activeBtn.classList.add('bg-primary', 'text-white');

            // Filter items
            projects.forEach(project => {
                if (category === 'all' || project.dataset.category === category) {
                    project.style.display = ''; // Restore default display
                    project.classList.remove('hidden');
                } else {
                    project.style.display = 'none';
                    project.classList.add('hidden'); // Helper for tailwind
                }
            });
        }

        // Form Security & Submission
        const Security = {
            // Patterns to block (XSS, SQLi, etc.)
            DANGEROUS_PATTERNS: [
                /<script\b[^>]*>([\s\S]*?)<\/script>/gim,
                /javascript:/gim,
                /onload=/gim,
                /onerror=/gim,
                /onclick=/gim,
                /'\s*OR\s*'\d+'='\d+/gim, // Basic SQLi
                /--/gim, // SQL comment
                /;\s*DROP\s+TABLE/gim
            ],

            sanitize: function (input) {
                if (typeof input !== 'string') return '';
                // Convert to plain text (strip HTML)
                const div = document.createElement('div');
                div.textContent = input;
                let sanitized = div.innerHTML;

                // Remove potential dangerous characters
                // We allow basic punctuation but block characters often used in code injections if they look suspicious
                // For a contact form, strictly removing < and > is usually safe and effective against HTML injection
                sanitized = sanitized.replace(/[<>]/g, '');

                return sanitized.trim();
            },

            validate: function (data) {
                const errors = [];

                // 1. Check for dangerous patterns
                for (const [key, value] of Object.entries(data)) {
                    for (const pattern of this.DANGEROUS_PATTERNS) {
                        if (pattern.test(value)) {
                            console.warn(`Security threat detected in field ${key}`);
                            errors.push("Contenu suspect détecté. Veuillez reformuler votre message.");
                            return errors; // Return immediately on security threat
                        }
                    }
                }

                // 2. Field specific validation
                if (data.name.length < 2 || data.name.length > 100) {
                    errors.push("Le nom doit contenir entre 2 et 100 caractères.");
                }

                // Basic email regex (browser already handles 'type=email' but good to double check structure)
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(data.email)) {
                    errors.push("L'adresse email n'est pas valide.");
                }

                if (data.subject.length < 3 || data.subject.length > 200) {
                    errors.push("Le sujet doit contenir entre 3 et 200 caractères.");
                }

                if (data.message.length < 10 || data.message.length > 5000) {
                    errors.push("Le message doit contenir entre 10 et 5000 caractères.");
                }

                return errors;
            }
        };

        document.getElementById('contactForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const form = e.target;
            const button = form.querySelector('button');
            const btnText = form.querySelector('.btn-text');
            const btnIcon = form.querySelector('.btn-icon');
            const btnLoader = form.querySelector('.btn-loader');
            const messageDiv = document.getElementById('formMessage');

            // Reset UI
            messageDiv.classList.add('hidden');
            messageDiv.className = 'hidden p-4 rounded-xl text-center font-medium';

            // Get form data
            const formData = new FormData(form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                subject: formData.get('subject'),
                message: formData.get('message')
            };

            // 1. Sanitize Data (Clean it up before use)
            // Note: We don't overwrite the form fields in the UI immediately to avoid confusing the user,
            // but we send sanitized data.
            const sanitizedData = {
                name: Security.sanitize(data.name),
                email: Security.sanitize(data.email),
                subject: Security.sanitize(data.subject),
                message: Security.sanitize(data.message)
            };

            // 2. Validate Data
            const errors = Security.validate(sanitizedData);

            if (errors.length > 0) {
                messageDiv.className = 'p-4 rounded-xl text-center font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400';
                messageDiv.innerHTML = errors.join('<br>'); // Allow break tags for multiple errors
                messageDiv.classList.remove('hidden');

                // Shake animation for visual feedback
                form.classList.add('animate-pulse');
                setTimeout(() => form.classList.remove('animate-pulse'), 500);
                return;
            }

            // Loading state
            button.disabled = true;
            btnText.textContent = 'Envoi...';
            btnIcon.classList.add('hidden');
            btnLoader.classList.remove('hidden');

            try {
                // Create new FormData with sanitized values
                const submissionData = new FormData();
                for (const [key, value] of Object.entries(sanitizedData)) {
                    submissionData.append(key, value);
                }

                const response = await fetch(form.action, {
                    method: 'POST',
                    body: submissionData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    form.reset();
                    messageDiv.className = 'p-4 rounded-xl text-center font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400';
                    messageDiv.textContent = "Merci ! Votre message a bien été envoyé en toute sécurité.";
                    messageDiv.classList.remove('hidden');
                } else {
                    throw new Error('Erreur lors de l\'envoi');
                }
            } catch (error) {
                messageDiv.className = 'p-4 rounded-xl text-center font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400';
                messageDiv.textContent = "Oups ! Une erreur s'est produite. Veuillez réessayer.";
                messageDiv.classList.remove('hidden');
            } finally {
                // Reset button
                button.disabled = false;
                btnText.textContent = 'Envoyer le message';
                btnIcon.classList.remove('hidden');
                btnLoader.classList.add('hidden');
            }
        });
    </script>

</body>

</html>